{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t),function(){var e=new Error(\"Cannot find module 'commonjs'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),Object.defineProperty(exports,\"__esModule\",{value:!0});var o=function(){function e(e){this.PlayingAudio=new Array;document.querySelectorAll(\"audio\");this.FreeChannels=new Array,this.UsedChannels=new Array,this.ClipTimeout=null,this.ClipCache=new Array,this.Matches=new Array,this.Channels=e}return Object.defineProperty(e.prototype,\"UpdateAudioClips\",{set:function(e){this.ClipCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"SetAvailableChannels\",{set:function(e){if(e){this.Channels=e;for(var t=this,n=0;n<e.length;n++)e[n].onended=function(e){t.AudioEnded(this,e)}}},enumerable:!0,configurable:!0}),e.prototype.AudioEnded=function(e,t){},Object.defineProperty(e.prototype,\"GetPlayingAudio\",{get:function(){return this.PlayingAudio},enumerable:!0,configurable:!0}),e.prototype.RemovePlaying=function(e,t){var n=this.PlayingAudio;for(var o in n)n[o].GetFilePath==e&&n[o].GetClipIdentifier==t&&this.PlayingAudio.splice(Number(o),1)},e.prototype.GetPlayingItems=function(e,t){var n=this.GetPlayingAudio;this.Matches=new Array;for(var o=0,r=n;o<r.length;o++){var i=r[o];i.GetFilePath==e&&i.GetClipIdentifier==t&&this.Matches.push(i)}return 0==this.Matches.length&&console.log(\"No matches found in GetPlayingItems\"),this.Matches},e.prototype.Clean=function(){for(var e=0,t=this.UsedChannels;e<t.length;e++){t[e].pause()}this.PlayingAudio=new Array,this.Channels=null,this.FreeChannels=new Array,this.UsedChannels=new Array,this.ClipTimeout=null,this.ClipCache=new Array},e.prototype.GetFreeChannel=function(){if(this.FreeChannels.length>0){var e=this.FreeChannels.pop();return this.UsedChannels.push(e),e}console.log(\"Allocation Error: No more free channels\")},e.prototype.AddToPlaying=function(e){this.PlayingAudio.push(e)},e.prototype.PlayAudio=function(e,t){var n=this.GetFreeChannel();if(n)for(var o=0,r=this.ClipCache;o<r.length;o++){var i=r[o];i.GetFilePath==e&&(i.SetClipIdentifier(Number),this.AddToPlaying(i),n.src=i.GetFilePath.toString(),n.play())}else alert(\"Out of free channels\")},e.prototype.SkipTo=function(e,t,n){for(var o=this.GetPlayingAudio,r=Array(),i=0,l=o;i<l.length;i++){var a=l[i];a.GetFilePath==e&&a.GetClipIdentifier==t&&(r.push(a),a.SetTrackPos(n))}0==r.length&&console.log(\"No matches found in SkipTo\")},e.prototype.Stop=function(e,t){var n=this.UsedChannels;if(this.GetPlayingItems(e,t).length>0)for(var o=0,r=n;o<r.length;o++){var i=r[o];i.src==e&&1!=i.paused&&(i.pause,this.RemovePlaying(e,t),console.log(\"stopped one audio track\"))}else console.log(\"Could Not Stop audio clip because there were no matches\")},e.prototype.SetRepeating=function(e,t,n){var o=this.UsedChannels;this.GetPlayingItems;if(this.Matches.length>0)for(var r=0,i=this.Matches;r<i.length;r++){i[r].SetRepeating(n),o.filter(function(t){return t.src===e})[0].loop=n}else console.log(\"Cant Set Repeating flag: unknown clipname or index\")},e}();exports.AudioController=o}]);","extractedComments":[]}