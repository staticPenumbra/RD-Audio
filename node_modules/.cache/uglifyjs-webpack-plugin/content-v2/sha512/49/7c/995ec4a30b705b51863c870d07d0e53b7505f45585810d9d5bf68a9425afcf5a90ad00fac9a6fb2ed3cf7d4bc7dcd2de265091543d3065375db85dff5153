{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.PlayingAudio=new Array;document.querySelectorAll(\"audio\");this.FreeChannels=new Array,this.UsedChannels=new Array,this.ClipTimeout=null,this.ClipCache=new Array,this.Matches=new Array,this.Channels=e}return Object.defineProperty(e.prototype,\"UpdateAudioClips\",{set:function(e){this.ClipCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"SetAvailableChannels\",{set:function(e){if(e){this.Channels=e;for(var t=this,n=0;n<e.length;n++)e[n].onended=function(e){t.AudioEnded(this,e)}}},enumerable:!0,configurable:!0}),e.prototype.AudioEnded=function(e,t){},Object.defineProperty(e.prototype,\"GetPlayingAudio\",{get:function(){return this.PlayingAudio},enumerable:!0,configurable:!0}),e.prototype.RemovePlaying=function(e,t){var n=this.PlayingAudio;for(var i in n)n[i].GetFilePath==e&&n[i].GetClipIdentifier==t&&this.PlayingAudio.splice(Number(i),1)},e.prototype.GetPlayingItems=function(e,t){var n=this.GetPlayingAudio;this.Matches=new Array;for(var i=0,o=n;i<o.length;i++){var r=o[i];r.GetFilePath==e&&r.GetClipIdentifier==t&&this.Matches.push(r)}return 0==this.Matches.length&&console.log(\"No matches found in GetPlayingItems\"),this.Matches},e.prototype.Clean=function(){for(var e=0,t=this.UsedChannels;e<t.length;e++){t[e].pause()}this.PlayingAudio=new Array,this.Channels=null,this.FreeChannels=new Array,this.UsedChannels=new Array,this.ClipTimeout=null,this.ClipCache=new Array},e.prototype.GetFreeChannel=function(){if(this.FreeChannels.length>0){var e=this.FreeChannels.pop();return this.UsedChannels.push(e),e}console.log(\"Allocation Error: No more free channels\")},e.prototype.AddToPlaying=function(e){this.PlayingAudio.push(e)},e.prototype.PlayAudio=function(e,t){var n=this.GetFreeChannel();if(n)for(var i=0,o=this.ClipCache;i<o.length;i++){var r=o[i];r.GetFilePath==e&&(r.SetClipIdentifier(Number),this.AddToPlaying(r),n.src=r.GetFilePath.toString(),n.play())}else alert(\"Out of free channels\")},e.prototype.SkipTo=function(e,t,n){for(var i=this.GetPlayingAudio,o=Array(),r=0,l=i;r<l.length;r++){var a=l[r];a.GetFilePath==e&&a.GetClipIdentifier==t&&(o.push(a),a.SetTrackPos(n))}0==o.length&&console.log(\"No matches found in SkipTo\")},e.prototype.Stop=function(e,t){var n=this.UsedChannels;if(this.GetPlayingItems(e,t).length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];r.src==e&&1!=r.paused&&(r.pause,this.RemovePlaying(e,t),console.log(\"stopped one audio track\"))}else console.log(\"Could Not Stop audio clip because there were no matches\")},e.prototype.SetRepeating=function(e,t,n){var i=this.UsedChannels;this.GetPlayingItems;if(this.Matches.length>0)for(var o=0,r=this.Matches;o<r.length;o++){r[o].SetRepeating(n),i.filter(function(t){return t.src===e})[0].loop=n}else console.log(\"Cant Set Repeating flag: unknown clipname or index\")},e}();t.AudioController=i}]);","extractedComments":[]}